<cx-spinner class="overlay" *ngIf="isUpdating$ | async"></cx-spinner>

<ng-container *ngIf="data$ | async as data">
  <div class="container">
    <div class="row">
      <div class="col">
        <cx-media [container]="data.loginSiteLogo" class="logo"></cx-media>
        {{data.marketingText}}

        <form (ngSubmit)="onSubmit()" [formGroup]="form">
          <label>
            <span class="label-content">
            </span>
            <input
              required="true"
              type="email"
              class="form-control"
              formControlName="userId"
              placeholder="{{ 'dashboardLoginForm.emailAddress.placeholder' | cxTranslate }}"
            />
            <cx-form-errors [control]="$any(form.get('userId'))"></cx-form-errors>
          </label>

          <label>
            <span class="label-content">
              {{
              'dashboardLoginForm.password.label' | cxTranslate
              }}
            </span>
            <input
              required="true"
              type="password"
              class="form-control"
              formControlName="password"
              [attr.aria-label]="'loginForm.password.placeholder' | cxTranslate"
              cxPasswordVisibilitySwitch
            />
            <cx-form-errors [control]="$any(form.get('password'))"></cx-form-errors>
          </label>

          <a [routerLink]="{ cxRoute: 'forgotPassword' } | cxUrl" class="btn-link">
            {{ 'loginForm.forgotPassword' | cxTranslate }}
          </a>

          <button
            type="submit"
            class="btn btn-block btn-primary"
            [disabled]="form.disabled">
            {{ 'loginForm.signIn' | cxTranslate }}
          </button>
        </form>

      </div>
      <div class="col-6">
        <cx-media [container]="data.mainPicture" class="main-picture"></cx-media>
      </div>
    </div>
  </div>
</ng-container>
